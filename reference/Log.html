<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SciViews-R log management functions — Log • svUnit</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="SciViews-R log management functions — Log" />
<meta property="og:description" content="These functions define the code of test functions. They are designed to check
the result of some test calculation." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">svUnit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/svUnit.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/SciViews/svUnit/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SciViews-R log management functions</h1>
    <small class="dont-index">Source: <a href='https://github.com/SciViews/svUnit/blob/master/R/Log.R'><code>R/Log.R</code></a></small>
    <div class="hidden name"><code>Log.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions define the code of test functions. They are designed to check
the result of some test calculation.</p>
    </div>

    <pre class="usage"><span class='fu'>Log</span>(<span class='kw'>description</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>createLog</span>(<span class='kw'>description</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>deleteExisting</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>clearLog</span>()

<span class='fu'>errorLog</span>(<span class='kw'>stopit</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>summarize</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>lastTest</span>()

<span class='fu'>lastSuite</span>()</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>description</th>
      <td><p>A (short) character string describing this test suite log.</p></td>
    </tr>
    <tr>
      <th>deleteExisting</th>
      <td><p>Do we delete an existing a <code>.Log</code> object already
defined in <code>.GlobalEnv</code> (no, by default)?</p></td>
    </tr>
    <tr>
      <th>stopit</th>
      <td><p>Do we issue an error (<code><a href='https://rdrr.io/r/base/stop.html'>stop()</a></code> in case of any error or failure?
This is particularly useful if you want to interrupt R CMD check on packages,
when you included one or more test suites in examples (see <code>?unitTests</code>).</p></td>
    </tr>
    <tr>
      <th>summarize</th>
      <td><p>Should the summary of the log be printed in case we stop
execution of the code when an error is found (see <code>stopit =</code> argument. It is,
indeed, useful to indicate at this time which tests failed or raised an
error. So, this argument should usually be left at its default value.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>Log()</code> and <code>createLog()</code> return the <code>.Log</code> object defined in <code>.GlobalEnv</code> by
reference (it is indeed an environment). So, you can use its content (and
change it, if you write functions to manipulate this log).</p>
<p><code>clearLog()</code> return invisibly <code>TRUE</code> or <code>FALSE</code>, depending if an existing log
object was deleted or not.</p>
<p><code>errorLog()</code> is mainly used for its side-effect of stopping code execution
and/or printing a summmary of the test runs in the context of example
massaging in R CMD check (see the "Writing R extensions" manual). However,
this function also returns invisibly a contingency table with the number of
successes, failures, errors and deactivated tests recorded so far.</p>
<p><code>lastTest()</code> and <code>lastSuite()</code> recall results of last test and last suite
run, respectively.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>svUnit records results of assertions (using the checkxxx() functions) in a
'svSuiteData' object named <code>.Log</code> and located in .GlobalEnv. Hence, this log
is easy to access. However, in order to avoid errors in your code in case
this object was deleted, or not created, it is better to access it using
<code>Log()</code> which take care to create the object if it is missing.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='svSuiteData.html'>svSuiteData()</a></code>, <code><a href='svSuite.html'>svSuite()</a></code>, <code><a href='svTest.html'>svTest()</a></code>, <code><a href='check.html'>checkEquals()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>clearLog</span>()           <span class='co'># Clear the svUnit log</span>

<span class='co'># Two correct tests</span>
(<span class='fu'><a href='check.html'>checkTrue</a></span>(<span class='fl'>1</span> <span class='kw'>&lt;</span> <span class='fl'>2</span>))</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>(<span class='fu'><a href='check.html'>checkException</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span>(<span class='st'>"a"</span>)))</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'>errorLog</span>()           <span class='co'># Nothing, because there is no error</span>

<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
(<span class='fu'><a href='check.html'>checkTrue</a></span>(<span class='fl'>1</span> <span class='kw'>&gt;</span> <span class='fl'>2</span>))    <span class='co'># This test fails</span>
<span class='fu'>lastTest</span>()            <span class='co'># Print results of last test</span>
<span class='fu'>errorLog</span>()            <span class='co'># Stop and summarize the tests run so far</span>
}

<span class='fu'>clearLog</span>()</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://phgrosjean.sciviews.org'>Philippe Grosjean</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


